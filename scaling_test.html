<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scaling Test - Fruit Merge Game</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
            background: #f0f0f0;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        h1 {
            text-align: center;
            margin-bottom: 20px;
        }
        .explanation {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .test-area {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        .viewport {
            background: #fff7ed;
            border: 3px solid #f97316;
            border-radius: 8px;
            position: relative;
            overflow: hidden;
        }
        .viewport-label {
            position: absolute;
            top: 5px;
            left: 5px;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 12px;
            z-index: 10;
        }
        .game-world {
            background: #e0f2fe;
            border: 2px solid #0284c7;
            position: absolute;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }
        .fruit {
            width: 40px;
            height: 40px;
            background: #ef4444;
            border-radius: 50%;
            border: 2px solid #991b1b;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 20px;
        }
        .info {
            font-size: 10px;
            margin-top: 5px;
            text-align: center;
        }
        .dimensions {
            background: rgba(255,255,255,0.9);
            padding: 5px;
            border-radius: 4px;
            font-size: 10px;
            position: absolute;
            bottom: 5px;
            left: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üçâ Game Scaling Test - Fixed Game World</h1>
        
        <div class="explanation">
            <h2>How the new scaling works:</h2>
            <ul>
                <li><strong>Game World (Blue):</strong> Always 400√ó600px - this is where physics happens</li>
                <li><strong>Viewport (Orange):</strong> Variable size - what the user sees</li>
                <li><strong>Fruit (Red):</strong> Always 40px in game world - appears different sizes in viewport</li>
            </ul>
            <p><strong>Key Point:</strong> The fruit is always the same size in the game world (40px), but appears larger or smaller depending on the viewport size. The physics simulation always works at the same scale.</p>
        </div>

        <div class="test-area">
            <!-- Small viewport -->
            <div class="viewport" style="width: 200px; height: 300px;">
                <div class="viewport-label">Small (200√ó300)</div>
                <div class="game-world" style="width: 200px; height: 300px; transform: scale(0.5); transform-origin: top left;">
                    <div class="fruit">üçì</div>
                    <div class="info">Fruit: 40px in world<br>(20px in viewport)</div>
                </div>
                <div class="dimensions">
                    Viewport: 200√ó300<br>
                    Game World: 400√ó600<br>
                    Scale: 0.5x
                </div>
            </div>

            <!-- Medium viewport -->
            <div class="viewport" style="width: 400px; height: 600px;">
                <div class="viewport-label">Medium (400√ó600)</div>
                <div class="game-world" style="width: 400px; height: 600px;">
                    <div class="fruit">üçì</div>
                    <div class="info">Fruit: 40px in world<br>(40px in viewport)</div>
                </div>
                <div class="dimensions">
                    Viewport: 400√ó600<br>
                    Game World: 400√ó600<br>
                    Scale: 1.0x
                </div>
            </div>

            <!-- Large viewport -->
            <div class="viewport" style="width: 600px; height: 900px;">
                <div class="viewport-label">Large (600√ó900)</div>
                <div class="game-world" style="width: 600px; height: 900px; transform: scale(1.5); transform-origin: top left;">
                    <div class="fruit">üçì</div>
                    <div class="info">Fruit: 40px in world<br>(60px in viewport)</div>
                </div>
                <div class="dimensions">
                    Viewport: 600√ó900<br>
                    Game World: 400√ó600<br>
                    Scale: 1.5x
                </div>
            </div>
        </div>

        <div class="explanation" style="margin-top: 20px;">
            <h3>Testing the Implementation:</h3>
            <ol>
                <li>Open <code>game/index.html</code> in a browser</li>
                <li>Click "Start" to begin the game</li>
                <li>Resize the browser window</li>
                <li>Observe that fruits maintain consistent relative sizes</li>
                <li>The game area scales to fit the window</li>
                <li>Physics behavior remains consistent</li>
            </ol>
        </div>
    </div>

    <script>
        // Log coordinate conversion test
        const NATIVE_WIDTH = 400;
        const NATIVE_HEIGHT = 600;
        
        function testConversion(viewportWidth, viewportHeight) {
            const viewportToWorldX = (vx) => (vx / viewportWidth) * NATIVE_WIDTH;
            const worldToViewportX = (wx) => (wx / NATIVE_WIDTH) * viewportWidth;
            
            const centerViewport = viewportWidth / 2;
            const centerWorld = viewportToWorldX(centerViewport);
            const backToViewport = worldToViewportX(centerWorld);
            
            console.log(`Viewport ${viewportWidth}√ó${viewportHeight}:`);
            console.log(`  Center: ${centerViewport}px (viewport) ‚Üí ${centerWorld}px (world) ‚Üí ${backToViewport}px (viewport)`);
            console.log(`  ‚úì World center is always 200px: ${centerWorld === 200}`);
        }
        
        console.log("Coordinate Conversion Tests:");
        testConversion(200, 300);
        testConversion(400, 600);
        testConversion(600, 900);
        testConversion(800, 1200);
    </script>
</body>
</html>
